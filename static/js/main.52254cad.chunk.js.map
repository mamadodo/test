{"version":3,"sources":["20210806_102244_222_radiohistory_ep0544.mp3","radireki_thumbnail.jpeg","App.js","index.js"],"names":["track","date","title","thumbnail","episodeImg","epiNum","App","musicRef","useRef","Audio","episode","intervalRef","console","log","useState","isPlay","setIsPlay","timePosition","setTimePosition","timeRate","setTimeRate","speed","speedIndex","setSpeedIndex","speedNextIndex","setSpeedNextIndex","musicTime","time","Math","floor","toString","padStart","musicCurrentTime","current","currentTime","musicRate","duration","id","className","onClick","play","setInterval","pause","src","width","height","alt","style","length","playbackRate","toFixed","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.52254cad.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/20210806_102244_222_radiohistory_ep0544.c5856041.mp3\";","export default __webpack_public_path__ + \"static/media/radireki_thumbnail.264ebb1a.jpeg\";","import React, { useRef, useState } from \"react\";\nimport \"./App.css\";\n\n// import sound from \"./MusMus-JGL-017.mp3\";\nimport episode from \"./20210806_102244_222_radiohistory_ep0544.mp3\";\nimport episodeImg from \"./radireki_thumbnail.jpeg\";\n\nconst track = {\n  date: \"2021.08.10\",\n  title: \"0544_イスラム教の六信五行から考える日本人にとっての「聖典」と「行動規範」\",\n  thumbnail: episodeImg,\n  epiNum: \"epi544\",\n}\n\n\nexport const App = () => {\n  const musicRef = useRef(new Audio(episode));\n  const intervalRef = useRef(null);\n\n  console.log(musicRef);\n\n  const [isPlay, setIsPlay] = useState(false); // playing state\n  const [timePosition, setTimePosition] = useState(0); // time position\n  const [timeRate, setTimeRate] = useState(0); // time position\n\n  const speed = [1.0, 1.3, 1.5, 2.0, 0.5, 0.7];\n  const [speedIndex, setSpeedIndex] = useState(0);\n  const [speedNextIndex, setSpeedNextIndex] = useState(1);\n  console.log(speedIndex + \"初期値\");\n\n  const musicTime = (time) => {\n    let hour = (Math.floor(time / 60 / 60)).toString().padStart( 2, '0');\n    let minutes = (Math.floor((time / 60) % 60)).toString().padStart( 2, '0');\n    let sec = (Math.floor(time % 60)).toString().padStart( 2, '0');\n    let convertTime;\n    convertTime = hour + ':' + minutes + ':' + sec;\n    return convertTime;\n  }\n\n  const start = () => {\n    if (intervalRef.current !== null) {\n      return;\n    }\n    intervalRef.current = setInterval(() => {\n      setTimePosition(musicRef.current.currentTime);\n      setTimeRate(timePosition / musicRef.current.currentTime);\n    }, 1000);\n  }\n\n  const musicCurrentTime = musicRef.current.currentTime;\n  const musicRate = (Math.floor(musicCurrentTime / musicRef.current.duration * 100));\n  console.log(musicRate);\n  // play button\n  const onClickTogglePlay = () => {\n    if (isPlay === false) {\n      musicRef.current.play();\n      setIsPlay(!isPlay);\n      console.log(isPlay);\n      start();\n      // console.log(Math.floor(timePosition/musicRef.current.duration*100));\n      console.log('pass' + timePosition);\n      console.log('totL' + musicRef.current.duration);\n      console.log(timeRate + '%');\n    } else {\n      musicRef.current.pause();\n      setIsPlay(!isPlay);\n      console.log(isPlay);\n    }\n  }\n\n  // prev 15s\n  const onClickBack = () => {\n    console.log(\"playback\");\n    musicRef.current.currentTime -= 15;\n  }\n\n  // next 30s\n  const onClickSkip = () => {\n    console.log(\"playskip\");\n    musicRef.current.currentTime += 30;\n  }\n\n  // speed change\n  const onClickChangeSpeed = () => {\n    if (speedIndex === speed.length - 1) {\n      setSpeedIndex(0);\n      setSpeedNextIndex(speedNextIndex + 1);\n    } else {\n      setSpeedIndex(speedIndex + 1);\n      if (speedNextIndex === speed.length - 1) {\n        setSpeedNextIndex(0);\n      } else {\n        setSpeedNextIndex(speedNextIndex + 1);\n      }\n    }\n    musicRef.current.playbackRate = speed[speedNextIndex];\n    console.log(speedIndex);\n    console.log(speedNextIndex + 'next');\n  }\n\n  return (\n    <>\n      <div id=\"app\" className=\"app\">\n      <div id=\"audio_thumb\" onClick={onClickTogglePlay}>\n        <img className=\"ep_img\" src={track.thumbnail} width=\"160\" height=\"160\" alt={track.epiNum} />\n\n        {isPlay? \n          (\n            <i id=\"pause_ico\" className=\"material-icons\">pause_circle_outline</i>\n          ) : (\n            <i id=\"play_ico\" className=\"material-icons\">play_circle_outline</i>\n          )\n        }\n\n      </div>\n      <div id=\"audio_desc\">\n         \n        \n        \n        \n        <div className=\"ep-date\">{track.date}</div>\n        <div className=\"ep-title\">\n          {track.title}<span className=\"sp-nodisp\"></span>\n        </div>\n        <div id=\"timebar\">\n          <div id=\"timebar-bg\">\n            <div id=\"timebar-past\" style={{width: musicRate + '%'}}>\n              <div id=\"timebar-num\">{musicRate + '%'}</div>\n            </div>\n          </div>\n        </div>\n        <div>\n          <span id=\"time_disp\">\n          {musicTime(timePosition)}/\n          {musicTime(musicRef.current.duration)}\n          </span>\n          <p className=\"time_control_area\">\n            <span>\n              <img \n                id=\"playback\" \n                src=\"https://propo.fm/image/rewind.png\" \n                width=\"23\" \n                alt=\"rewind\" \n                onClick={onClickBack}\n              />\n            </span>\n            <span>\n              <img \n                id=\"skip\" \n                src=\"https://propo.fm/image/skip.png\" \n                width=\"23\" \n                alt=\"skip\"\n                onClick={onClickSkip}\n              />\n            </span>\n            <span id=\"speed_ctrl\" onClick={onClickChangeSpeed}>{speed[speedIndex].toFixed(1)}x</span>\n          </p>\n        </div>\n      </div>\n      </div>\n    </>\n  );\n};\n","import ReactDOM from \"react-dom\";\n\nimport { App } from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}